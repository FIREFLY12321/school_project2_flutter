================================================================================
Flutter å°ˆæ¡ˆç¨‹å¼ç¢¼å‚™ä»½
ç”Ÿæˆæ™‚é–“: 2025-06-02T00:16:28.937580
ç”Ÿæˆå·¥å…·: Dart File Traversal Tool
================================================================================


ğŸ—‚ï¸  ç›®éŒ„: lib
------------------------------------------------------------

ğŸ“„ æª”æ¡ˆ: main.dart
   å¤§å°: 2.4KB
   é¡å‹: .dart
   å®Œæ•´è·¯å¾‘: C:\Users\user\AndroidStudioProjects\project2\lib\main.dart
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    1 â”‚ import 'package:flutter/material.dart';
â”‚    2 â”‚ 
â”‚    3 â”‚ import 'package:provider/provider.dart';
â”‚    4 â”‚ import 'package:flutter_local_notifications/flutter_local_notifications.dart' as notifications;
â”‚    5 â”‚ import 'package:shared_preferences/shared_preferences.dart';
â”‚    6 â”‚ import 'models/task_repository.dart';
â”‚    7 â”‚ import 'providers.dart';
â”‚    8 â”‚ import 'screens/home_screen.dart';
â”‚    9 â”‚ 
â”‚   10 â”‚ 
â”‚   11 â”‚ final notifications.FlutterLocalNotificationsPlugin flutterLocalNotificationsPlugin =
â”‚   12 â”‚ notifications.FlutterLocalNotificationsPlugin();
â”‚   13 â”‚ 
â”‚   14 â”‚ // æ˜¯å¦å·²ç¶“ç™¼é€éè³‡è¨Šçš„æ¨™è¨˜
â”‚   15 â”‚ const String _kHasSentDeviceInfoKey = 'has_sent_device_info';
â”‚   16 â”‚ 
â”‚   17 â”‚ void main() async {
â”‚   18 â”‚   WidgetsFlutterBinding.ensureInitialized();
â”‚   19 â”‚ 
â”‚   20 â”‚ 
â”‚   21 â”‚   // ç²å– SharedPreferences å¯¦ä¾‹
â”‚   22 â”‚   final prefs = await SharedPreferences.getInstance();
â”‚   23 â”‚   final isDarkMode = prefs.getBool('isDarkMode') ?? false;
â”‚   24 â”‚   // Create repository
â”‚   25 â”‚   final taskRepository = TaskRepository();
â”‚   26 â”‚ 
â”‚   27 â”‚   runApp(MyApp(
â”‚   28 â”‚     isDarkMode: isDarkMode,
â”‚   29 â”‚     taskRepository: taskRepository,
â”‚   30 â”‚   ));
â”‚   31 â”‚ }
â”‚   32 â”‚ 
â”‚   33 â”‚ class MyApp extends StatelessWidget {
â”‚   34 â”‚   final bool isDarkMode;
â”‚   35 â”‚   final TaskRepository taskRepository;
â”‚   36 â”‚ 
â”‚   37 â”‚   const MyApp({
â”‚   38 â”‚     Key? key,
â”‚   39 â”‚     required this.isDarkMode,
â”‚   40 â”‚     required this.taskRepository,
â”‚   41 â”‚   }) : super(key: key);
â”‚   42 â”‚ 
â”‚   43 â”‚   @override
â”‚   44 â”‚   Widget build(BuildContext context) {
â”‚   45 â”‚     return MultiProvider(
â”‚   46 â”‚       providers: [
â”‚   47 â”‚         ChangeNotifierProvider(
â”‚   48 â”‚           create: (_) => TaskProvider(repository: taskRepository),
â”‚   49 â”‚         ),
â”‚   50 â”‚         ChangeNotifierProvider(
â”‚   51 â”‚           create: (_) => ThemeProvider(isDarkMode: isDarkMode),
â”‚   52 â”‚         ),
â”‚   53 â”‚       ],
â”‚   54 â”‚       child: Builder(
â”‚   55 â”‚         builder: (context) {
â”‚   56 â”‚           final themeProvider = Provider.of<ThemeProvider>(context);
â”‚   57 â”‚ 
â”‚   58 â”‚           return MaterialApp(
â”‚   59 â”‚             title: 'To-Do List',
â”‚   60 â”‚             debugShowCheckedModeBanner: false,
â”‚   61 â”‚             theme: ThemeData(
â”‚   62 â”‚               colorScheme: ColorScheme.fromSeed(
â”‚   63 â”‚                 seedColor: Colors.indigo,
â”‚   64 â”‚                 brightness: Brightness.light,
â”‚   65 â”‚               ),
â”‚   66 â”‚               useMaterial3: true,
â”‚   67 â”‚             ),
â”‚   68 â”‚             darkTheme: ThemeData(
â”‚   69 â”‚               colorScheme: ColorScheme.fromSeed(
â”‚   70 â”‚                 seedColor: Colors.indigo,
â”‚   71 â”‚                 brightness: Brightness.dark,
â”‚   72 â”‚               ),
â”‚   73 â”‚               useMaterial3: true,
â”‚   74 â”‚             ),
â”‚   75 â”‚             themeMode: themeProvider.themeMode,
â”‚   76 â”‚             home: const HomeScreen(),
â”‚   77 â”‚           );
â”‚   78 â”‚         },
â”‚   79 â”‚       ),
â”‚   80 â”‚     );
â”‚   81 â”‚   }
â”‚   82 â”‚ }
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ğŸ“„ æª”æ¡ˆ: models\database_helper.dart
   å¤§å°: 2.5KB
   é¡å‹: .dart
   å®Œæ•´è·¯å¾‘: C:\Users\user\AndroidStudioProjects\project2\lib\models\database_helper.dart
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    1 â”‚ import 'package:sqflite/sqflite.dart';
â”‚    2 â”‚ import 'package:path/path.dart';
â”‚    3 â”‚ import 'task.dart';
â”‚    4 â”‚ 
â”‚    5 â”‚ class DatabaseHelper {
â”‚    6 â”‚   static final DatabaseHelper instance = DatabaseHelper._init();
â”‚    7 â”‚   static Database? _database;
â”‚    8 â”‚ 
â”‚    9 â”‚   DatabaseHelper._init();
â”‚   10 â”‚ 
â”‚   11 â”‚   Future<Database> get database async {
â”‚   12 â”‚     if (_database != null) return _database!;
â”‚   13 â”‚     _database = await _initDB('todo_list.db');
â”‚   14 â”‚     return _database!;
â”‚   15 â”‚   }
â”‚   16 â”‚ 
â”‚   17 â”‚   Future<Database> _initDB(String filePath) async {
â”‚   18 â”‚     final dbPath = await getDatabasesPath();
â”‚   19 â”‚     final path = join(dbPath, filePath);
â”‚   20 â”‚ 
â”‚   21 â”‚     return await openDatabase(path, version: 1, onCreate: _createDB);
â”‚   22 â”‚   }
â”‚   23 â”‚ 
â”‚   24 â”‚   Future _createDB(Database db, int version) async {
â”‚   25 â”‚     const idType = 'TEXT PRIMARY KEY';
â”‚   26 â”‚     const textType = 'TEXT NOT NULL';
â”‚   27 â”‚     const intType = 'INTEGER NOT NULL';
â”‚   28 â”‚ 
â”‚   29 â”‚     await db.execute('''
â”‚   30 â”‚     CREATE TABLE tasks (
â”‚   31 â”‚       id $idType,
â”‚   32 â”‚       name $textType,
â”‚   33 â”‚       priority $intType,
â”‚   34 â”‚       createdAt $textType,
â”‚   35 â”‚       dueDate TEXT,
â”‚   36 â”‚       isCompleted $intType,
â”‚   37 â”‚       tags TEXT,
â”‚   38 â”‚       notes TEXT
â”‚   39 â”‚     )
â”‚   40 â”‚     ''');
â”‚   41 â”‚   }
â”‚   42 â”‚ 
â”‚   43 â”‚   Future<void> create(Task task) async {
â”‚   44 â”‚     final db = await instance.database;
â”‚   45 â”‚     await db.insert('tasks', task.toMap());
â”‚   46 â”‚   }
â”‚   47 â”‚ 
â”‚   48 â”‚   Future<List<Task>> readAllTasks() async {
â”‚   49 â”‚     final db = await instance.database;
â”‚   50 â”‚     final result = await db.query('tasks');
â”‚   51 â”‚     return result.map((map) => Task.fromMap(map)).toList();
â”‚   52 â”‚   }
â”‚   53 â”‚ 
â”‚   54 â”‚   Future<Task?> readTask(String id) async {
â”‚   55 â”‚     final db = await instance.database;
â”‚   56 â”‚     final maps = await db.query(
â”‚   57 â”‚       'tasks',
â”‚   58 â”‚       where: 'id = ?',
â”‚   59 â”‚       whereArgs: [id],
â”‚   60 â”‚     );
â”‚   61 â”‚ 
â”‚   62 â”‚     if (maps.isNotEmpty) {
â”‚   63 â”‚       return Task.fromMap(maps.first);
â”‚   64 â”‚     } else {
â”‚   65 â”‚       return null;
â”‚   66 â”‚     }
â”‚   67 â”‚   }
â”‚   68 â”‚ 
â”‚   69 â”‚   Future<void> update(Task task) async {
â”‚   70 â”‚     final db = await instance.database;
â”‚   71 â”‚     await db.update(
â”‚   72 â”‚       'tasks',
â”‚   73 â”‚       task.toMap(),
â”‚   74 â”‚       where: 'id = ?',
â”‚   75 â”‚       whereArgs: [task.id],
â”‚   76 â”‚     );
â”‚   77 â”‚   }
â”‚   78 â”‚ 
â”‚   79 â”‚   Future<void> delete(String id) async {
â”‚   80 â”‚     final db = await instance.database;
â”‚   81 â”‚     await db.delete(
â”‚   82 â”‚       'tasks',
â”‚   83 â”‚       where: 'id = ?',
â”‚   84 â”‚       whereArgs: [id],
â”‚   85 â”‚     );
â”‚   86 â”‚   }
â”‚   87 â”‚ 
â”‚   88 â”‚   Future<void> toggleTaskCompletion(String id) async {
â”‚   89 â”‚     final db = await instance.database;
â”‚   90 â”‚     final task = await readTask(id);
â”‚   91 â”‚     if (task != null) {
â”‚   92 â”‚       task.isCompleted = !task.isCompleted;
â”‚   93 â”‚       await update(task);
â”‚   94 â”‚     }
â”‚   95 â”‚   }
â”‚   96 â”‚ 
â”‚   97 â”‚   Future<void> deleteAllTasks() async {
â”‚   98 â”‚     final db = await instance.database;
â”‚   99 â”‚     await db.delete('tasks');
â”‚  100 â”‚   }
â”‚  101 â”‚ 
â”‚  102 â”‚   Future close() async {
â”‚  103 â”‚     final db = await instance.database;
â”‚  104 â”‚     db.close();
â”‚  105 â”‚   }
â”‚  106 â”‚ }
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ğŸ“„ æª”æ¡ˆ: models\task.dart
   å¤§å°: 2.3KB
   é¡å‹: .dart
   å®Œæ•´è·¯å¾‘: C:\Users\user\AndroidStudioProjects\project2\lib\models\task.dart
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    1 â”‚ import 'dart:convert';
â”‚    2 â”‚ 
â”‚    3 â”‚ enum Priority {
â”‚    4 â”‚   low,
â”‚    5 â”‚   medium,
â”‚    6 â”‚   high
â”‚    7 â”‚ }
â”‚    8 â”‚ 
â”‚    9 â”‚ class Task {
â”‚   10 â”‚   String id;
â”‚   11 â”‚   String name;
â”‚   12 â”‚   Priority priority;
â”‚   13 â”‚   DateTime createdAt;
â”‚   14 â”‚   DateTime? dueDate;
â”‚   15 â”‚   bool isCompleted;
â”‚   16 â”‚   List<String> tags;
â”‚   17 â”‚   String? notes;
â”‚   18 â”‚ 
â”‚   19 â”‚   Task({
â”‚   20 â”‚     required this.id,
â”‚   21 â”‚     required this.name,
â”‚   22 â”‚     required this.priority,
â”‚   23 â”‚     required this.createdAt,
â”‚   24 â”‚     this.dueDate,
â”‚   25 â”‚     this.isCompleted = false,
â”‚   26 â”‚     this.tags = const [],
â”‚   27 â”‚     this.notes,
â”‚   28 â”‚   });
â”‚   29 â”‚ 
â”‚   30 â”‚   // Convert Task object to a map for storing in SQLite
â”‚   31 â”‚   Map<String, dynamic> toMap() {
â”‚   32 â”‚     return {
â”‚   33 â”‚       'id': id,
â”‚   34 â”‚       'name': name,
â”‚   35 â”‚       'priority': priority.index,
â”‚   36 â”‚       'createdAt': createdAt.toIso8601String(),
â”‚   37 â”‚       'dueDate': dueDate?.toIso8601String(),
â”‚   38 â”‚       'isCompleted': isCompleted ? 1 : 0,
â”‚   39 â”‚       'tags': jsonEncode(tags), // Convert list to JSON string
â”‚   40 â”‚       'notes': notes,
â”‚   41 â”‚     };
â”‚   42 â”‚   }
â”‚   43 â”‚ 
â”‚   44 â”‚   // Create a Task object from a map retrieved from SQLite
â”‚   45 â”‚   static Task fromMap(Map<String, dynamic> map) {
â”‚   46 â”‚     return Task(
â”‚   47 â”‚       id: map['id'] as String,
â”‚   48 â”‚       name: map['name'] as String,
â”‚   49 â”‚       priority: Priority.values[map['priority'] as int],
â”‚   50 â”‚       createdAt: DateTime.parse(map['createdAt'] as String),
â”‚   51 â”‚       dueDate: map['dueDate'] != null ? DateTime.parse(map['dueDate'] as String) : null,
â”‚   52 â”‚       isCompleted: (map['isCompleted'] as int) == 1,
â”‚   53 â”‚       tags: map['tags'] != null
â”‚   54 â”‚           ? List<String>.from(jsonDecode(map['tags'] as String))
â”‚   55 â”‚           : [],
â”‚   56 â”‚       notes: map['notes'] as String?,
â”‚   57 â”‚     );
â”‚   58 â”‚   }
â”‚   59 â”‚ 
â”‚   60 â”‚   // Create a copy of the Task with optional updated fields
â”‚   61 â”‚   Task copyWith({
â”‚   62 â”‚     String? id,
â”‚   63 â”‚     String? name,
â”‚   64 â”‚     Priority? priority,
â”‚   65 â”‚     DateTime? createdAt,
â”‚   66 â”‚     Object? dueDate = const Object(),
â”‚   67 â”‚     bool? isCompleted,
â”‚   68 â”‚     List<String>? tags,
â”‚   69 â”‚     Object? notes = const Object(),
â”‚   70 â”‚   }) {
â”‚   71 â”‚     return Task(
â”‚   72 â”‚       id: id ?? this.id,
â”‚   73 â”‚       name: name ?? this.name,
â”‚   74 â”‚       priority: priority ?? this.priority,
â”‚   75 â”‚       createdAt: createdAt ?? this.createdAt,
â”‚   76 â”‚       dueDate: dueDate == const Object() ? this.dueDate : dueDate as DateTime?,
â”‚   77 â”‚       isCompleted: isCompleted ?? this.isCompleted,
â”‚   78 â”‚       tags: tags ?? List.from(this.tags),
â”‚   79 â”‚       notes: notes == const Object() ? this.notes : notes as String?,
â”‚   80 â”‚     );
â”‚   81 â”‚   }
â”‚   82 â”‚ 
â”‚   83 â”‚   @override
â”‚   84 â”‚   String toString() {
â”‚   85 â”‚     return 'Task{id: $id, name: $name, priority: $priority, isCompleted: $isCompleted}';
â”‚   86 â”‚   }
â”‚   87 â”‚ }
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ğŸ“„ æª”æ¡ˆ: models\task_repository.dart
   å¤§å°: 1.5KB
   é¡å‹: .dart
   å®Œæ•´è·¯å¾‘: C:\Users\user\AndroidStudioProjects\project2\lib\models\task_repository.dart
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    1 â”‚ import 'package:uuid/uuid.dart';
â”‚    2 â”‚ import 'task.dart';
â”‚    3 â”‚ import 'database_helper.dart';
â”‚    4 â”‚ 
â”‚    5 â”‚ class TaskRepository {
â”‚    6 â”‚   final _uuid = Uuid();
â”‚    7 â”‚   final _dbHelper = DatabaseHelper.instance;
â”‚    8 â”‚ 
â”‚    9 â”‚   Future<List<Task>> getAllTasks() async {
â”‚   10 â”‚     return await _dbHelper.readAllTasks();
â”‚   11 â”‚   }
â”‚   12 â”‚ 
â”‚   13 â”‚   Future<List<Task>> getTasksByPriority(Priority priority) async {
â”‚   14 â”‚     final tasks = await _dbHelper.readAllTasks();
â”‚   15 â”‚     return tasks.where((task) => task.priority == priority).toList();
â”‚   16 â”‚   }
â”‚   17 â”‚ 
â”‚   18 â”‚   Future<Task?> getTaskById(String id) async {
â”‚   19 â”‚     return await _dbHelper.readTask(id);
â”‚   20 â”‚   }
â”‚   21 â”‚ 
â”‚   22 â”‚   Future<void> addTask(Task task) async {
â”‚   23 â”‚     if (task.id.isEmpty) {
â”‚   24 â”‚       task = task.copyWith(id: _uuid.v4());
â”‚   25 â”‚     }
â”‚   26 â”‚     await _dbHelper.create(task);
â”‚   27 â”‚   }
â”‚   28 â”‚ 
â”‚   29 â”‚   Future<void> updateTask(Task task) async {
â”‚   30 â”‚     await _dbHelper.update(task);
â”‚   31 â”‚   }
â”‚   32 â”‚ 
â”‚   33 â”‚   Future<void> deleteTask(String id) async {
â”‚   34 â”‚     await _dbHelper.delete(id);
â”‚   35 â”‚   }
â”‚   36 â”‚ 
â”‚   37 â”‚   Future<void> toggleTaskCompletion(String id) async {
â”‚   38 â”‚     await _dbHelper.toggleTaskCompletion(id);
â”‚   39 â”‚   }
â”‚   40 â”‚ 
â”‚   41 â”‚   Future<void> deleteAllTasks() async {
â”‚   42 â”‚     await _dbHelper.deleteAllTasks();
â”‚   43 â”‚   }
â”‚   44 â”‚ 
â”‚   45 â”‚   Future<List<Task>> searchTasks(String query) async {
â”‚   46 â”‚     final tasks = await _dbHelper.readAllTasks();
â”‚   47 â”‚     return tasks.where((task) =>
â”‚   48 â”‚     task.name.toLowerCase().contains(query.toLowerCase()) ||
â”‚   49 â”‚         (task.notes?.toLowerCase().contains(query.toLowerCase()) ?? false) ||
â”‚   50 â”‚         task.tags.any((tag) => tag.toLowerCase().contains(query.toLowerCase()))
â”‚   51 â”‚     ).toList();
â”‚   52 â”‚   }
â”‚   53 â”‚ }
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ğŸ“„ æª”æ¡ˆ: providers.dart
   å¤§å°: 3.0KB
   é¡å‹: .dart
   å®Œæ•´è·¯å¾‘: C:\Users\user\AndroidStudioProjects\project2\lib\providers.dart
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    1 â”‚ import 'package:flutter/material.dart';
â”‚    2 â”‚ import 'models/task.dart';
â”‚    3 â”‚ import 'models/task_repository.dart';
â”‚    4 â”‚ 
â”‚    5 â”‚ class TaskProvider extends ChangeNotifier {
â”‚    6 â”‚   final TaskRepository _repository;
â”‚    7 â”‚   List<Task> _tasks = [];
â”‚    8 â”‚   bool _isLoading = true;
â”‚    9 â”‚   String _searchQuery = '';
â”‚   10 â”‚   Priority? _priorityFilter;
â”‚   11 â”‚ 
â”‚   12 â”‚   TaskProvider({required TaskRepository repository}) : _repository = repository {
â”‚   13 â”‚     _loadTasks();
â”‚   14 â”‚   }
â”‚   15 â”‚ 
â”‚   16 â”‚   bool get isLoading => _isLoading;
â”‚   17 â”‚   List<Task> get tasks => _getFilteredTasks();
â”‚   18 â”‚   String get searchQuery => _searchQuery;
â”‚   19 â”‚   Priority? get priorityFilter => _priorityFilter;
â”‚   20 â”‚ 
â”‚   21 â”‚   Future<void> _loadTasks() async {
â”‚   22 â”‚     _isLoading = true;
â”‚   23 â”‚     notifyListeners();
â”‚   24 â”‚ 
â”‚   25 â”‚     try {
â”‚   26 â”‚       _tasks = await _repository.getAllTasks();
â”‚   27 â”‚     } catch (e) {
â”‚   28 â”‚       _tasks = [];
â”‚   29 â”‚     } finally {
â”‚   30 â”‚       _isLoading = false;
â”‚   31 â”‚       notifyListeners();
â”‚   32 â”‚     }
â”‚   33 â”‚   }
â”‚   34 â”‚ 
â”‚   35 â”‚   List<Task> _getFilteredTasks() {
â”‚   36 â”‚     List<Task> filteredList = List.from(_tasks);
â”‚   37 â”‚ 
â”‚   38 â”‚     // Apply priority filter if set
â”‚   39 â”‚     if (_priorityFilter != null) {
â”‚   40 â”‚       filteredList = filteredList.where((task) => task.priority == _priorityFilter).toList();
â”‚   41 â”‚     }
â”‚   42 â”‚ 
â”‚   43 â”‚     // Apply search query if not empty
â”‚   44 â”‚     if (_searchQuery.isNotEmpty) {
â”‚   45 â”‚       filteredList = filteredList.where((task) =>
â”‚   46 â”‚       task.name.toLowerCase().contains(_searchQuery.toLowerCase()) ||
â”‚   47 â”‚           (task.notes?.toLowerCase().contains(_searchQuery.toLowerCase()) ?? false) ||
â”‚   48 â”‚           task.tags.any((tag) => tag.toLowerCase().contains(_searchQuery.toLowerCase()))
â”‚   49 â”‚       ).toList();
â”‚   50 â”‚     }
â”‚   51 â”‚ 
â”‚   52 â”‚     return filteredList;
â”‚   53 â”‚   }
â”‚   54 â”‚ 
â”‚   55 â”‚   void setSearchQuery(String query) {
â”‚   56 â”‚     _searchQuery = query;
â”‚   57 â”‚     notifyListeners();
â”‚   58 â”‚   }
â”‚   59 â”‚ 
â”‚   60 â”‚   void setPriorityFilter(Priority? priority) {
â”‚   61 â”‚     _priorityFilter = priority;
â”‚   62 â”‚     notifyListeners();
â”‚   63 â”‚   }
â”‚   64 â”‚ 
â”‚   65 â”‚   Future<void> addTask(Task task) async {
â”‚   66 â”‚     await _repository.addTask(task);
â”‚   67 â”‚     await _loadTasks();
â”‚   68 â”‚   }
â”‚   69 â”‚ 
â”‚   70 â”‚   Future<void> updateTask(Task task) async {
â”‚   71 â”‚     await _repository.updateTask(task);
â”‚   72 â”‚     await _loadTasks();
â”‚   73 â”‚   }
â”‚   74 â”‚ 
â”‚   75 â”‚   Future<void> deleteTask(String id) async {
â”‚   76 â”‚     await _repository.deleteTask(id);
â”‚   77 â”‚     await _loadTasks();
â”‚   78 â”‚   }
â”‚   79 â”‚ 
â”‚   80 â”‚   Future<void> toggleTaskCompletion(String id) async {
â”‚   81 â”‚     await _repository.toggleTaskCompletion(id);
â”‚   82 â”‚     await _loadTasks();
â”‚   83 â”‚   }
â”‚   84 â”‚ 
â”‚   85 â”‚   Future<Task?> getTaskById(String id) async {
â”‚   86 â”‚     return await _repository.getTaskById(id);
â”‚   87 â”‚   }
â”‚   88 â”‚ 
â”‚   89 â”‚   Future<void> deleteAllTasks() async {
â”‚   90 â”‚     await _repository.deleteAllTasks();
â”‚   91 â”‚     await _loadTasks();
â”‚   92 â”‚   }
â”‚   93 â”‚ 
â”‚   94 â”‚   void clearFilters() {
â”‚   95 â”‚     _searchQuery = '';
â”‚   96 â”‚     _priorityFilter = null;
â”‚   97 â”‚     notifyListeners();
â”‚   98 â”‚   }
â”‚   99 â”‚ }
â”‚  100 â”‚ 
â”‚  101 â”‚ class ThemeProvider extends ChangeNotifier {
â”‚  102 â”‚   ThemeMode _themeMode;
â”‚  103 â”‚ 
â”‚  104 â”‚   ThemeProvider({required bool isDarkMode})
â”‚  105 â”‚       : _themeMode = isDarkMode ? ThemeMode.dark : ThemeMode.light;
â”‚  106 â”‚ 
â”‚  107 â”‚   ThemeMode get themeMode => _themeMode;
â”‚  108 â”‚ 
â”‚  109 â”‚   void toggleTheme() {
â”‚  110 â”‚     _themeMode = _themeMode == ThemeMode.light
â”‚  111 â”‚         ? ThemeMode.dark
â”‚  112 â”‚         : ThemeMode.light;
â”‚  113 â”‚     notifyListeners();
â”‚  114 â”‚   }
â”‚  115 â”‚ 
â”‚  116 â”‚   bool get isDarkMode => _themeMode == ThemeMode.dark;
â”‚  117 â”‚ }
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ğŸ“„ æª”æ¡ˆ: screens\add_task_screen.dart
   å¤§å°: 7.9KB
   é¡å‹: .dart
   å®Œæ•´è·¯å¾‘: C:\Users\user\AndroidStudioProjects\project2\lib\screens\add_task_screen.dart
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    1 â”‚ import 'package:flutter/material.dart';
â”‚    2 â”‚ import 'package:provider/provider.dart';
â”‚    3 â”‚ import '../models/task.dart';
â”‚    4 â”‚ import '../providers.dart';
â”‚    5 â”‚ import '../widgets/priority_selector.dart';
â”‚    6 â”‚ import 'package:intl/intl.dart';
â”‚    7 â”‚ import 'package:flutter_local_notifications/flutter_local_notifications.dart' as notifications;
â”‚    8 â”‚ import '../main.dart';
â”‚    9 â”‚ import 'package:uuid/uuid.dart';
â”‚   10 â”‚ 
â”‚   11 â”‚ class AddTaskScreen extends StatefulWidget {
â”‚   12 â”‚   const AddTaskScreen({Key? key}) : super(key: key);
â”‚   13 â”‚ 
â”‚   14 â”‚   @override
â”‚   15 â”‚   State<AddTaskScreen> createState() => _AddTaskScreenState();
â”‚   16 â”‚ }
â”‚   17 â”‚ 
â”‚   18 â”‚ 
â”‚   19 â”‚ class _AddTaskScreenState extends State<AddTaskScreen> {
â”‚   20 â”‚   final _formKey = GlobalKey<FormState>();
â”‚   21 â”‚   final _nameController = TextEditingController();
â”‚   22 â”‚   final _notesController = TextEditingController();
â”‚   23 â”‚   final _tagsController = TextEditingController();
â”‚   24 â”‚   Priority _selectedPriority = Priority.medium;
â”‚   25 â”‚   DateTime? _selectedDueDate;
â”‚   26 â”‚   TimeOfDay? _selectedDueTime;
â”‚   27 â”‚ 
â”‚   28 â”‚   @override
â”‚   29 â”‚   void dispose() {
â”‚   30 â”‚     _nameController.dispose();
â”‚   31 â”‚     _notesController.dispose();
â”‚   32 â”‚     _tagsController.dispose();
â”‚   33 â”‚     super.dispose();
â”‚   34 â”‚   }
â”‚   35 â”‚ 
â”‚   36 â”‚   Future<void> _scheduleNotification(Task task) async {
â”‚   37 â”‚     if (task.dueDate == null) return;
â”‚   38 â”‚ 
â”‚   39 â”‚     // Create notification details
â”‚   40 â”‚     const notifications.AndroidNotificationDetails androidDetails = notifications.AndroidNotificationDetails(
â”‚   41 â”‚       'task_reminders',
â”‚   42 â”‚       'Task Reminders',
â”‚   43 â”‚       importance: notifications.Importance.max,
â”‚   44 â”‚       priority: notifications.Priority.high,
â”‚   45 â”‚     );
â”‚   46 â”‚ 
â”‚   47 â”‚     const notifications.NotificationDetails notificationDetails = notifications.NotificationDetails(
â”‚   48 â”‚       android: androidDetails,
â”‚   49 â”‚     );
â”‚   50 â”‚ 
â”‚   51 â”‚     // Calculate the time difference for scheduling
â”‚   52 â”‚     final now = DateTime.now();
â”‚   53 â”‚     final scheduledDate = task.dueDate!;
â”‚   54 â”‚ 
â”‚   55 â”‚     // For immediate notification if due date is in the past
â”‚   56 â”‚     if (scheduledDate.isBefore(now)) {
â”‚   57 â”‚       await flutterLocalNotificationsPlugin.show(
â”‚   58 â”‚         task.id.hashCode,
â”‚   59 â”‚         'Task Reminder: ${task.name}',
â”‚   60 â”‚         'Your task "${task.name}" is due soon',
â”‚   61 â”‚         notificationDetails,
â”‚   62 â”‚       );
â”‚   63 â”‚     } else {
â”‚   64 â”‚       // For future notifications
â”‚   65 â”‚ 
â”‚   66 â”‚     }
â”‚   67 â”‚   }
â”‚   68 â”‚ 
â”‚   69 â”‚   @override
â”‚   70 â”‚   Widget build(BuildContext context) {
â”‚   71 â”‚     final taskProvider = Provider.of<TaskProvider>(context, listen: false);
â”‚   72 â”‚ 
â”‚   73 â”‚     return Scaffold(
â”‚   74 â”‚       appBar: AppBar(
â”‚   75 â”‚         title: const Text('Add a New Task'),
â”‚   76 â”‚       ),
â”‚   77 â”‚       body: Form(
â”‚   78 â”‚         key: _formKey,
â”‚   79 â”‚         child: ListView(
â”‚   80 â”‚           padding: const EdgeInsets.all(16),
â”‚   81 â”‚           children: [
â”‚   82 â”‚             TextFormField(
â”‚   83 â”‚               controller: _nameController,
â”‚   84 â”‚               decoration: const InputDecoration(
â”‚   85 â”‚                 labelText: 'Task Name*',
â”‚   86 â”‚                 border: OutlineInputBorder(),
â”‚   87 â”‚               ),
â”‚   88 â”‚               validator: (value) {
â”‚   89 â”‚                 if (value == null || value.isEmpty) {
â”‚   90 â”‚                   return 'Please enter a task name';
â”‚   91 â”‚                 }
â”‚   92 â”‚                 return null;
â”‚   93 â”‚               },
â”‚   94 â”‚             ),
â”‚   95 â”‚             const SizedBox(height: 16),
â”‚   96 â”‚             PrioritySelector(
â”‚   97 â”‚               selectedPriority: _selectedPriority,
â”‚   98 â”‚               onPriorityChanged: (priority) {
â”‚   99 â”‚                 setState(() {
â”‚  100 â”‚                   _selectedPriority = priority;
â”‚  101 â”‚                 });
â”‚  102 â”‚               },
â”‚  103 â”‚             ),
â”‚  104 â”‚             const SizedBox(height: 16),
â”‚  105 â”‚             ListTile(
â”‚  106 â”‚               title: const Text('Due Date (Optional)'),
â”‚  107 â”‚               subtitle: _selectedDueDate != null
â”‚  108 â”‚                   ? Text(DateFormat('EEE, MMM d, yyyy').format(_selectedDueDate!))
â”‚  109 â”‚                   : const Text('No due date selected'),
â”‚  110 â”‚               trailing: Row(
â”‚  111 â”‚                 mainAxisSize: MainAxisSize.min,
â”‚  112 â”‚                 children: [
â”‚  113 â”‚                   IconButton(
â”‚  114 â”‚                     icon: const Icon(Icons.calendar_today),
â”‚  115 â”‚                     onPressed: () async {
â”‚  116 â”‚                       final date = await showDatePicker(
â”‚  117 â”‚                         context: context,
â”‚  118 â”‚                         initialDate: _selectedDueDate ?? DateTime.now(),
â”‚  119 â”‚                         firstDate: DateTime.now(),
â”‚  120 â”‚                         lastDate: DateTime.now().add(const Duration(days: 365)),
â”‚  121 â”‚                       );
â”‚  122 â”‚ 
â”‚  123 â”‚                       if (date != null) {
â”‚  124 â”‚                         setState(() {
â”‚  125 â”‚                           _selectedDueDate = date;
â”‚  126 â”‚                         });
â”‚  127 â”‚                       }
â”‚  128 â”‚                     },
â”‚  129 â”‚                   ),
â”‚  130 â”‚                   IconButton(
â”‚  131 â”‚                     icon: const Icon(Icons.access_time),
â”‚  132 â”‚                     onPressed: () async {
â”‚  133 â”‚                       final time = await showTimePicker(
â”‚  134 â”‚                         context: context,
â”‚  135 â”‚                         initialTime: _selectedDueTime ?? TimeOfDay.now(),
â”‚  136 â”‚                       );
â”‚  137 â”‚ 
â”‚  138 â”‚                       if (time != null) {
â”‚  139 â”‚                         setState(() {
â”‚  140 â”‚                           _selectedDueTime = time;
â”‚  141 â”‚                         });
â”‚  142 â”‚                       }
â”‚  143 â”‚                     },
â”‚  144 â”‚                   ),
â”‚  145 â”‚                   if (_selectedDueDate != null || _selectedDueTime != null)
â”‚  146 â”‚                     IconButton(
â”‚  147 â”‚                       icon: const Icon(Icons.clear),
â”‚  148 â”‚                       onPressed: () {
â”‚  149 â”‚                         setState(() {
â”‚  150 â”‚                           _selectedDueDate = null;
â”‚  151 â”‚                           _selectedDueTime = null;
â”‚  152 â”‚                         });
â”‚  153 â”‚                       },
â”‚  154 â”‚                     ),
â”‚  155 â”‚                 ],
â”‚  156 â”‚               ),
â”‚  157 â”‚             ),
â”‚  158 â”‚             const SizedBox(height: 16),
â”‚  159 â”‚             TextFormField(
â”‚  160 â”‚               controller: _tagsController,
â”‚  161 â”‚               decoration: const InputDecoration(
â”‚  162 â”‚                 labelText: 'Tags (comma separated)',
â”‚  163 â”‚                 border: OutlineInputBorder(),
â”‚  164 â”‚                 hintText: 'work, meeting, project',
â”‚  165 â”‚               ),
â”‚  166 â”‚             ),
â”‚  167 â”‚             const SizedBox(height: 16),
â”‚  168 â”‚             TextFormField(
â”‚  169 â”‚               controller: _notesController,
â”‚  170 â”‚               decoration: const InputDecoration(
â”‚  171 â”‚                 labelText: 'Notes',
â”‚  172 â”‚                 border: OutlineInputBorder(),
â”‚  173 â”‚                 alignLabelWithHint: true,
â”‚  174 â”‚               ),
â”‚  175 â”‚               maxLines: 5,
â”‚  176 â”‚             ),
â”‚  177 â”‚             const SizedBox(height: 24),
â”‚  178 â”‚             ElevatedButton(
â”‚  179 â”‚               onPressed: () async {
â”‚  180 â”‚                 if (_formKey.currentState!.validate()) {
â”‚  181 â”‚                   // Combine date and time if both are selected
â”‚  182 â”‚                   DateTime? dueDateTime;
â”‚  183 â”‚                   if (_selectedDueDate != null) {
â”‚  184 â”‚                     dueDateTime = _selectedDueDate!;
â”‚  185 â”‚ 
â”‚  186 â”‚                     if (_selectedDueTime != null) {
â”‚  187 â”‚                       dueDateTime = DateTime(
â”‚  188 â”‚                         _selectedDueDate!.year,
â”‚  189 â”‚                         _selectedDueDate!.month,
â”‚  190 â”‚                         _selectedDueDate!.day,
â”‚  191 â”‚                         _selectedDueTime!.hour,
â”‚  192 â”‚                         _selectedDueTime!.minute,
â”‚  193 â”‚                       );
â”‚  194 â”‚                     }
â”‚  195 â”‚                   }
â”‚  196 â”‚ 
â”‚  197 â”‚                   final task = Task(
â”‚  198 â”‚                     id: const Uuid().v4(), // Generate a unique ID
â”‚  199 â”‚                     name: _nameController.text,
â”‚  200 â”‚                     priority: _selectedPriority,
â”‚  201 â”‚                     createdAt: DateTime.now(),
â”‚  202 â”‚                     dueDate: dueDateTime,
â”‚  203 â”‚                     tags: _tagsController.text.isEmpty
â”‚  204 â”‚                         ? []
â”‚  205 â”‚                         : _tagsController.text.split(',').map((tag) => tag.trim()).toList(),
â”‚  206 â”‚                     notes: _notesController.text.isEmpty ? null : _notesController.text,
â”‚  207 â”‚                   );
â”‚  208 â”‚ 
â”‚  209 â”‚                   await taskProvider.addTask(task);
â”‚  210 â”‚ 
â”‚  211 â”‚                   if (dueDateTime != null) {
â”‚  212 â”‚                     await _scheduleNotification(task);
â”‚  213 â”‚                   }
â”‚  214 â”‚ 
â”‚  215 â”‚                   if (mounted) {
â”‚  216 â”‚                     Navigator.pop(context);
â”‚  217 â”‚                   }
â”‚  218 â”‚                 }
â”‚  219 â”‚               },
â”‚  220 â”‚               style: ElevatedButton.styleFrom(
â”‚  221 â”‚                 minimumSize: const Size.fromHeight(50),
â”‚  222 â”‚               ),
â”‚  223 â”‚               child: const Text('ADD TASK'),
â”‚  224 â”‚             ),
â”‚  225 â”‚           ],
â”‚  226 â”‚         ),
â”‚  227 â”‚       ),
â”‚  228 â”‚     );
â”‚  229 â”‚   }
â”‚  230 â”‚ }
â”‚  231 â”‚ 
â”‚  232 â”‚ 
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ğŸ“„ æª”æ¡ˆ: screens\edit_task_screen.dart
   å¤§å°: 10.5KB
   é¡å‹: .dart
   å®Œæ•´è·¯å¾‘: C:\Users\user\AndroidStudioProjects\project2\lib\screens\edit_task_screen.dart
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    1 â”‚ import 'package:flutter/material.dart';
â”‚    2 â”‚ import 'package:provider/provider.dart';
â”‚    3 â”‚ import '../models/task.dart';
â”‚    4 â”‚ import '../providers.dart';
â”‚    5 â”‚ import '../widgets/priority_selector.dart';
â”‚    6 â”‚ import 'package:intl/intl.dart';
â”‚    7 â”‚ import 'package:flutter_local_notifications/flutter_local_notifications.dart' as notifications;
â”‚    8 â”‚ import 'package:timezone/timezone.dart' as tz;
â”‚    9 â”‚ import '../main.dart';
â”‚   10 â”‚ 
â”‚   11 â”‚ class EditTaskScreen extends StatefulWidget {
â”‚   12 â”‚   final String taskId;
â”‚   13 â”‚ 
â”‚   14 â”‚   const EditTaskScreen({Key? key, required this.taskId}) : super(key: key);
â”‚   15 â”‚ 
â”‚   16 â”‚   @override
â”‚   17 â”‚   State<EditTaskScreen> createState() => _EditTaskScreenState();
â”‚   18 â”‚ }
â”‚   19 â”‚ 
â”‚   20 â”‚ class _EditTaskScreenState extends State<EditTaskScreen> {
â”‚   21 â”‚   final _formKey = GlobalKey<FormState>();
â”‚   22 â”‚   final _nameController = TextEditingController();
â”‚   23 â”‚   final _notesController = TextEditingController();
â”‚   24 â”‚   final _tagsController = TextEditingController();
â”‚   25 â”‚   Priority _selectedPriority = Priority.medium;
â”‚   26 â”‚   DateTime? _selectedDueDate;
â”‚   27 â”‚   TimeOfDay? _selectedDueTime;
â”‚   28 â”‚   bool _isLoading = true;
â”‚   29 â”‚   Task? _task;
â”‚   30 â”‚ 
â”‚   31 â”‚   @override
â”‚   32 â”‚   void initState() {
â”‚   33 â”‚     super.initState();
â”‚   34 â”‚     _loadTask();
â”‚   35 â”‚   }
â”‚   36 â”‚ 
â”‚   37 â”‚   Future<void> _loadTask() async {
â”‚   38 â”‚     final taskProvider = Provider.of<TaskProvider>(context, listen: false);
â”‚   39 â”‚     final task = await taskProvider.getTaskById(widget.taskId);
â”‚   40 â”‚ 
â”‚   41 â”‚     if (task != null && mounted) {
â”‚   42 â”‚       setState(() {
â”‚   43 â”‚         _task = task;
â”‚   44 â”‚         _nameController.text = task.name;
â”‚   45 â”‚         _notesController.text = task.notes ?? '';
â”‚   46 â”‚         _tagsController.text = task.tags.join(', ');
â”‚   47 â”‚         _selectedPriority = task.priority;
â”‚   48 â”‚         _selectedDueDate = task.dueDate;
â”‚   49 â”‚ 
â”‚   50 â”‚         if (task.dueDate != null) {
â”‚   51 â”‚           _selectedDueTime = TimeOfDay(
â”‚   52 â”‚             hour: task.dueDate!.hour,
â”‚   53 â”‚             minute: task.dueDate!.minute,
â”‚   54 â”‚           );
â”‚   55 â”‚         }
â”‚   56 â”‚ 
â”‚   57 â”‚         _isLoading = false;
â”‚   58 â”‚       });
â”‚   59 â”‚     } else if (mounted) {
â”‚   60 â”‚       Navigator.pop(context);
â”‚   61 â”‚     }
â”‚   62 â”‚   }
â”‚   63 â”‚ 
â”‚   64 â”‚   @override
â”‚   65 â”‚   void dispose() {
â”‚   66 â”‚     _nameController.dispose();
â”‚   67 â”‚     _notesController.dispose();
â”‚   68 â”‚     _tagsController.dispose();
â”‚   69 â”‚     super.dispose();
â”‚   70 â”‚   }
â”‚   71 â”‚ 
â”‚   72 â”‚   Future<void> _updateNotification(Task task) async {
â”‚   73 â”‚     // Cancel existing notification first
â”‚   74 â”‚     await flutterLocalNotificationsPlugin.cancel(task.id.hashCode);
â”‚   75 â”‚ 
â”‚   76 â”‚     if (task.dueDate == null) return;
â”‚   77 â”‚ 
â”‚   78 â”‚     // Create notification details
â”‚   79 â”‚     const notifications.AndroidNotificationDetails androidDetails = notifications.AndroidNotificationDetails(
â”‚   80 â”‚       'task_reminders',
â”‚   81 â”‚       'Task Reminders',
â”‚   82 â”‚       importance: notifications.Importance.max,
â”‚   83 â”‚       priority: notifications.Priority.high,
â”‚   84 â”‚     );
â”‚   85 â”‚ 
â”‚   86 â”‚     const notifications.NotificationDetails notificationDetails = notifications.NotificationDetails(
â”‚   87 â”‚       android: androidDetails,
â”‚   88 â”‚     );
â”‚   89 â”‚ 
â”‚   90 â”‚     // Using simple show method for compatibility
â”‚   91 â”‚     await flutterLocalNotificationsPlugin.show(
â”‚   92 â”‚       task.id.hashCode,
â”‚   93 â”‚       'Task Reminder: ${task.name}',
â”‚   94 â”‚       'Your task "${task.name}" is due soon',
â”‚   95 â”‚       notificationDetails,
â”‚   96 â”‚     );
â”‚   97 â”‚   }
â”‚   98 â”‚ 
â”‚   99 â”‚   @override
â”‚  100 â”‚   Widget build(BuildContext context) {
â”‚  101 â”‚     if (_isLoading || _task == null) {
â”‚  102 â”‚       return Scaffold(
â”‚  103 â”‚         appBar: AppBar(title: const Text('Edit Task')),
â”‚  104 â”‚         body: const Center(child: CircularProgressIndicator()),
â”‚  105 â”‚       );
â”‚  106 â”‚     }
â”‚  107 â”‚ 
â”‚  108 â”‚     final taskProvider = Provider.of<TaskProvider>(context, listen: false);
â”‚  109 â”‚ 
â”‚  110 â”‚     return Scaffold(
â”‚  111 â”‚       appBar: AppBar(
â”‚  112 â”‚         title: const Text('Edit Task'),
â”‚  113 â”‚         actions: [
â”‚  114 â”‚           IconButton(
â”‚  115 â”‚             icon: const Icon(Icons.delete),
â”‚  116 â”‚             onPressed: () {
â”‚  117 â”‚               showDialog(
â”‚  118 â”‚                 context: context,
â”‚  119 â”‚                 builder: (context) => AlertDialog(
â”‚  120 â”‚                   title: const Text('Delete Task'),
â”‚  121 â”‚                   content: const Text('Are you sure you want to delete this task?'),
â”‚  122 â”‚                   actions: [
â”‚  123 â”‚                     TextButton(
â”‚  124 â”‚                       onPressed: () => Navigator.pop(context),
â”‚  125 â”‚                       child: const Text('Cancel'),
â”‚  126 â”‚                     ),
â”‚  127 â”‚                     TextButton(
â”‚  128 â”‚                       onPressed: () async {
â”‚  129 â”‚                         await taskProvider.deleteTask(widget.taskId);
â”‚  130 â”‚                         // Cancel notification
â”‚  131 â”‚                         await flutterLocalNotificationsPlugin.cancel(_task!.id.hashCode);
â”‚  132 â”‚                         if (mounted) {
â”‚  133 â”‚                           Navigator.pop(context); // Close dialog
â”‚  134 â”‚                           Navigator.pop(context); // Close edit screen
â”‚  135 â”‚                         }
â”‚  136 â”‚                       },
â”‚  137 â”‚                       child: const Text('Delete'),
â”‚  138 â”‚                     ),
â”‚  139 â”‚                   ],
â”‚  140 â”‚                 ),
â”‚  141 â”‚               );
â”‚  142 â”‚             },
â”‚  143 â”‚           ),
â”‚  144 â”‚         ],
â”‚  145 â”‚       ),
â”‚  146 â”‚       body: Form(
â”‚  147 â”‚         key: _formKey,
â”‚  148 â”‚         child: ListView(
â”‚  149 â”‚           padding: const EdgeInsets.all(16),
â”‚  150 â”‚           children: [
â”‚  151 â”‚             TextFormField(
â”‚  152 â”‚               controller: _nameController,
â”‚  153 â”‚               decoration: const InputDecoration(
â”‚  154 â”‚                 labelText: 'Task Name*',
â”‚  155 â”‚                 border: OutlineInputBorder(),
â”‚  156 â”‚               ),
â”‚  157 â”‚               validator: (value) {
â”‚  158 â”‚                 if (value == null || value.isEmpty) {
â”‚  159 â”‚                   return 'Please enter a task name';
â”‚  160 â”‚                 }
â”‚  161 â”‚                 return null;
â”‚  162 â”‚               },
â”‚  163 â”‚             ),
â”‚  164 â”‚             const SizedBox(height: 16),
â”‚  165 â”‚             PrioritySelector(
â”‚  166 â”‚               selectedPriority: _selectedPriority,
â”‚  167 â”‚               onPriorityChanged: (priority) {
â”‚  168 â”‚                 setState(() {
â”‚  169 â”‚                   _selectedPriority = priority;
â”‚  170 â”‚                 });
â”‚  171 â”‚               },
â”‚  172 â”‚             ),
â”‚  173 â”‚             const SizedBox(height: 16),
â”‚  174 â”‚             ListTile(
â”‚  175 â”‚               title: const Text('Due Date (Optional)'),
â”‚  176 â”‚               subtitle: _selectedDueDate != null
â”‚  177 â”‚                   ? Text(DateFormat('EEE, MMM d, yyyy').format(_selectedDueDate!))
â”‚  178 â”‚                   : const Text('No due date selected'),
â”‚  179 â”‚               trailing: Row(
â”‚  180 â”‚                 mainAxisSize: MainAxisSize.min,
â”‚  181 â”‚                 children: [
â”‚  182 â”‚                   IconButton(
â”‚  183 â”‚                     icon: const Icon(Icons.calendar_today),
â”‚  184 â”‚                     onPressed: () async {
â”‚  185 â”‚                       final date = await showDatePicker(
â”‚  186 â”‚                         context: context,
â”‚  187 â”‚                         initialDate: _selectedDueDate ?? DateTime.now(),
â”‚  188 â”‚                         firstDate: DateTime.now(),
â”‚  189 â”‚                         lastDate: DateTime.now().add(const Duration(days: 365)),
â”‚  190 â”‚                       );
â”‚  191 â”‚ 
â”‚  192 â”‚                       if (date != null) {
â”‚  193 â”‚                         setState(() {
â”‚  194 â”‚                           _selectedDueDate = date;
â”‚  195 â”‚                         });
â”‚  196 â”‚                       }
â”‚  197 â”‚                     },
â”‚  198 â”‚                   ),
â”‚  199 â”‚                   IconButton(
â”‚  200 â”‚                     icon: const Icon(Icons.access_time),
â”‚  201 â”‚                     onPressed: () async {
â”‚  202 â”‚                       final time = await showTimePicker(
â”‚  203 â”‚                         context: context,
â”‚  204 â”‚                         initialTime: _selectedDueTime ?? TimeOfDay.now(),
â”‚  205 â”‚                       );
â”‚  206 â”‚ 
â”‚  207 â”‚                       if (time != null) {
â”‚  208 â”‚                         setState(() {
â”‚  209 â”‚                           _selectedDueTime = time;
â”‚  210 â”‚                         });
â”‚  211 â”‚                       }
â”‚  212 â”‚                     },
â”‚  213 â”‚                   ),
â”‚  214 â”‚                   if (_selectedDueDate != null || _selectedDueTime != null)
â”‚  215 â”‚                     IconButton(
â”‚  216 â”‚                       icon: const Icon(Icons.clear),
â”‚  217 â”‚                       onPressed: () {
â”‚  218 â”‚                         setState(() {
â”‚  219 â”‚                           _selectedDueDate = null;
â”‚  220 â”‚                           _selectedDueTime = null;
â”‚  221 â”‚                         });
â”‚  222 â”‚                       },
â”‚  223 â”‚                     ),
â”‚  224 â”‚                 ],
â”‚  225 â”‚               ),
â”‚  226 â”‚             ),
â”‚  227 â”‚             const SizedBox(height: 16),
â”‚  228 â”‚             TextFormField(
â”‚  229 â”‚               controller: _tagsController,
â”‚  230 â”‚               decoration: const InputDecoration(
â”‚  231 â”‚                 labelText: 'Tags (comma separated)',
â”‚  232 â”‚                 border: OutlineInputBorder(),
â”‚  233 â”‚                 hintText: 'work, meeting, project',
â”‚  234 â”‚               ),
â”‚  235 â”‚             ),
â”‚  236 â”‚             const SizedBox(height: 16),
â”‚  237 â”‚             TextFormField(
â”‚  238 â”‚               controller: _notesController,
â”‚  239 â”‚               decoration: const InputDecoration(
â”‚  240 â”‚                 labelText: 'Notes',
â”‚  241 â”‚                 border: OutlineInputBorder(),
â”‚  242 â”‚                 alignLabelWithHint: true,
â”‚  243 â”‚               ),
â”‚  244 â”‚               maxLines: 5,
â”‚  245 â”‚             ),
â”‚  246 â”‚             const SizedBox(height: 24),
â”‚  247 â”‚             Row(
â”‚  248 â”‚               children: [
â”‚  249 â”‚                 Expanded(
â”‚  250 â”‚                   child: ElevatedButton(
â”‚  251 â”‚                     onPressed: () async {
â”‚  252 â”‚                       if (_formKey.currentState!.validate()) {
â”‚  253 â”‚                         // Combine date and time if both are selected
â”‚  254 â”‚                         DateTime? dueDateTime;
â”‚  255 â”‚                         if (_selectedDueDate != null) {
â”‚  256 â”‚                           dueDateTime = _selectedDueDate!;
â”‚  257 â”‚ 
â”‚  258 â”‚                           if (_selectedDueTime != null) {
â”‚  259 â”‚                             dueDateTime = DateTime(
â”‚  260 â”‚                               _selectedDueDate!.year,
â”‚  261 â”‚                               _selectedDueDate!.month,
â”‚  262 â”‚                               _selectedDueDate!.day,
â”‚  263 â”‚                               _selectedDueTime!.hour,
â”‚  264 â”‚                               _selectedDueTime!.minute,
â”‚  265 â”‚                             );
â”‚  266 â”‚                           }
â”‚  267 â”‚                         }
â”‚  268 â”‚ 
â”‚  269 â”‚                         final updatedTask = Task(
â”‚  270 â”‚                           id: _task!.id,
â”‚  271 â”‚                           name: _nameController.text,
â”‚  272 â”‚                           priority: _selectedPriority,
â”‚  273 â”‚                           createdAt: _task!.createdAt,
â”‚  274 â”‚                           dueDate: dueDateTime,
â”‚  275 â”‚                           isCompleted: _task!.isCompleted,
â”‚  276 â”‚                           tags: _tagsController.text.isEmpty
â”‚  277 â”‚                               ? []
â”‚  278 â”‚                               : _tagsController.text.split(',').map((tag) => tag.trim()).toList(),
â”‚  279 â”‚                           notes: _notesController.text.isEmpty ? null : _notesController.text,
â”‚  280 â”‚                         );
â”‚  281 â”‚ 
â”‚  282 â”‚                         await taskProvider.updateTask(updatedTask);
â”‚  283 â”‚                         await _updateNotification(updatedTask);
â”‚  284 â”‚ 
â”‚  285 â”‚                         if (mounted) {
â”‚  286 â”‚                           Navigator.pop(context);
â”‚  287 â”‚                         }
â”‚  288 â”‚                       }
â”‚  289 â”‚                     },
â”‚  290 â”‚                     style: ElevatedButton.styleFrom(
â”‚  291 â”‚                       minimumSize: const Size.fromHeight(50),
â”‚  292 â”‚                     ),
â”‚  293 â”‚                     child: const Text('SAVE CHANGES'),
â”‚  294 â”‚                   ),
â”‚  295 â”‚                 ),
â”‚  296 â”‚               ],
â”‚  297 â”‚             ),
â”‚  298 â”‚           ],
â”‚  299 â”‚         ),
â”‚  300 â”‚       ),
â”‚  301 â”‚     );
â”‚  302 â”‚   }
â”‚  303 â”‚ }
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ğŸ“„ æª”æ¡ˆ: screens\home_screen.dart
   å¤§å°: 7.3KB
   é¡å‹: .dart
   å®Œæ•´è·¯å¾‘: C:\Users\user\AndroidStudioProjects\project2\lib\screens\home_screen.dart
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    1 â”‚ import 'package:flutter/material.dart';
â”‚    2 â”‚ import 'package:provider/provider.dart';
â”‚    3 â”‚ import 'package:flutter_slidable/flutter_slidable.dart';
â”‚    4 â”‚ import '../models/task.dart';
â”‚    5 â”‚ import '../providers.dart';
â”‚    6 â”‚ import 'add_task_screen.dart';
â”‚    7 â”‚ import 'edit_task_screen.dart';
â”‚    8 â”‚ import '../widgets/task_list_item.dart';
â”‚    9 â”‚ import 'package:shared_preferences/shared_preferences.dart';
â”‚   10 â”‚ 
â”‚   11 â”‚ class HomeScreen extends StatefulWidget {
â”‚   12 â”‚   const HomeScreen({Key? key}) : super(key: key);
â”‚   13 â”‚ 
â”‚   14 â”‚   @override
â”‚   15 â”‚   State<HomeScreen> createState() => _HomeScreenState();
â”‚   16 â”‚ }
â”‚   17 â”‚ 
â”‚   18 â”‚ class _HomeScreenState extends State<HomeScreen> with SingleTickerProviderStateMixin {
â”‚   19 â”‚   late TabController _tabController;
â”‚   20 â”‚   bool _isSearching = false;
â”‚   21 â”‚   final TextEditingController _searchController = TextEditingController();
â”‚   22 â”‚ 
â”‚   23 â”‚   @override
â”‚   24 â”‚   void initState() {
â”‚   25 â”‚     super.initState();
â”‚   26 â”‚     _tabController = TabController(length: 4, vsync: this);
â”‚   27 â”‚ 
â”‚   28 â”‚     _tabController.addListener(() {
â”‚   29 â”‚       final taskProvider = Provider.of<TaskProvider>(context, listen: false);
â”‚   30 â”‚ 
â”‚   31 â”‚       switch (_tabController.index) {
â”‚   32 â”‚         case 0:
â”‚   33 â”‚           taskProvider.setPriorityFilter(null); // All tasks
â”‚   34 â”‚           break;
â”‚   35 â”‚         case 1:
â”‚   36 â”‚           taskProvider.setPriorityFilter(Priority.high);
â”‚   37 â”‚           break;
â”‚   38 â”‚         case 2:
â”‚   39 â”‚           taskProvider.setPriorityFilter(Priority.medium);
â”‚   40 â”‚           break;
â”‚   41 â”‚         case 3:
â”‚   42 â”‚           taskProvider.setPriorityFilter(Priority.low);
â”‚   43 â”‚           break;
â”‚   44 â”‚       }
â”‚   45 â”‚     });
â”‚   46 â”‚   }
â”‚   47 â”‚ 
â”‚   48 â”‚   @override
â”‚   49 â”‚   void dispose() {
â”‚   50 â”‚     _tabController.dispose();
â”‚   51 â”‚     _searchController.dispose();
â”‚   52 â”‚     super.dispose();
â”‚   53 â”‚   }
â”‚   54 â”‚ 
â”‚   55 â”‚   @override
â”‚   56 â”‚   Widget build(BuildContext context) {
â”‚   57 â”‚     final taskProvider = Provider.of<TaskProvider>(context);
â”‚   58 â”‚     final themeProvider = Provider.of<ThemeProvider>(context);
â”‚   59 â”‚     final tasks = taskProvider.tasks;
â”‚   60 â”‚ 
â”‚   61 â”‚     return Scaffold(
â”‚   62 â”‚       appBar: AppBar(
â”‚   63 â”‚         title: _isSearching
â”‚   64 â”‚             ? TextField(
â”‚   65 â”‚           controller: _searchController,
â”‚   66 â”‚           decoration: const InputDecoration(
â”‚   67 â”‚             hintText: 'Search tasks...',
â”‚   68 â”‚             border: InputBorder.none,
â”‚   69 â”‚           ),
â”‚   70 â”‚           onChanged: (value) {
â”‚   71 â”‚             taskProvider.setSearchQuery(value);
â”‚   72 â”‚           },
â”‚   73 â”‚           autofocus: true,
â”‚   74 â”‚         )
â”‚   75 â”‚             : const Text('To-Do List'),
â”‚   76 â”‚         actions: [
â”‚   77 â”‚           IconButton(
â”‚   78 â”‚             icon: Icon(_isSearching ? Icons.close : Icons.search),
â”‚   79 â”‚             onPressed: () {
â”‚   80 â”‚               setState(() {
â”‚   81 â”‚                 _isSearching = !_isSearching;
â”‚   82 â”‚                 if (!_isSearching) {
â”‚   83 â”‚                   _searchController.clear();
â”‚   84 â”‚                   taskProvider.setSearchQuery('');
â”‚   85 â”‚                 }
â”‚   86 â”‚               });
â”‚   87 â”‚             },
â”‚   88 â”‚           ),
â”‚   89 â”‚           IconButton(
â”‚   90 â”‚             icon: Icon(themeProvider.isDarkMode
â”‚   91 â”‚                 ? Icons.light_mode
â”‚   92 â”‚                 : Icons.dark_mode),
â”‚   93 â”‚             onPressed: () async {
â”‚   94 â”‚               themeProvider.toggleTheme();
â”‚   95 â”‚ 
â”‚   96 â”‚               // Save preference
â”‚   97 â”‚               final prefs = await SharedPreferences.getInstance();
â”‚   98 â”‚               await prefs.setBool('isDarkMode', themeProvider.isDarkMode);
â”‚   99 â”‚             },
â”‚  100 â”‚           ),
â”‚  101 â”‚           PopupMenuButton<String>(
â”‚  102 â”‚             onSelected: (value) {
â”‚  103 â”‚               if (value == 'clear_all') {
â”‚  104 â”‚                 showDialog(
â”‚  105 â”‚                   context: context,
â”‚  106 â”‚                   builder: (context) => AlertDialog(
â”‚  107 â”‚                     title: const Text('Clear All Tasks'),
â”‚  108 â”‚                     content: const Text('Are you sure you want to delete all tasks?'),
â”‚  109 â”‚                     actions: [
â”‚  110 â”‚                       TextButton(
â”‚  111 â”‚                         onPressed: () => Navigator.pop(context),
â”‚  112 â”‚                         child: const Text('Cancel'),
â”‚  113 â”‚                       ),
â”‚  114 â”‚                       TextButton(
â”‚  115 â”‚                         onPressed: () {
â”‚  116 â”‚                           taskProvider.deleteAllTasks();
â”‚  117 â”‚                           Navigator.pop(context);
â”‚  118 â”‚                         },
â”‚  119 â”‚                         child: const Text('Clear All'),
â”‚  120 â”‚                       ),
â”‚  121 â”‚                     ],
â”‚  122 â”‚                   ),
â”‚  123 â”‚                 );
â”‚  124 â”‚               }
â”‚  125 â”‚             },
â”‚  126 â”‚             itemBuilder: (context) => [
â”‚  127 â”‚               const PopupMenuItem(
â”‚  128 â”‚                 value: 'clear_all',
â”‚  129 â”‚                 child: Text('Clear All Tasks'),
â”‚  130 â”‚               ),
â”‚  131 â”‚             ],
â”‚  132 â”‚           ),
â”‚  133 â”‚         ],
â”‚  134 â”‚         bottom: TabBar(
â”‚  135 â”‚           controller: _tabController,
â”‚  136 â”‚           tabs: const [
â”‚  137 â”‚             Tab(text: 'All'),
â”‚  138 â”‚             Tab(text: 'High'),
â”‚  139 â”‚             Tab(text: 'Medium'),
â”‚  140 â”‚             Tab(text: 'Low'),
â”‚  141 â”‚           ],
â”‚  142 â”‚         ),
â”‚  143 â”‚       ),
â”‚  144 â”‚       body: taskProvider.isLoading
â”‚  145 â”‚           ? const Center(child: CircularProgressIndicator())
â”‚  146 â”‚           : tasks.isEmpty
â”‚  147 â”‚           ? Center(
â”‚  148 â”‚         child: Column(
â”‚  149 â”‚           mainAxisAlignment: MainAxisAlignment.center,
â”‚  150 â”‚           children: [
â”‚  151 â”‚             Icon(
â”‚  152 â”‚               Icons.task_alt,
â”‚  153 â”‚               size: 80,
â”‚  154 â”‚               color: Colors.grey.withOpacity(0.5),
â”‚  155 â”‚             ),
â”‚  156 â”‚             const SizedBox(height: 16),
â”‚  157 â”‚             Text(
â”‚  158 â”‚               _isSearching
â”‚  159 â”‚                   ? 'No matching tasks found'
â”‚  160 â”‚                   : 'No tasks yet. Tap + to add a new task',
â”‚  161 â”‚               style: TextStyle(
â”‚  162 â”‚                 fontSize: 16,
â”‚  163 â”‚                 color: Colors.grey.withOpacity(0.8),
â”‚  164 â”‚               ),
â”‚  165 â”‚             ),
â”‚  166 â”‚           ],
â”‚  167 â”‚         ),
â”‚  168 â”‚       )
â”‚  169 â”‚           : ListView.builder(
â”‚  170 â”‚         itemCount: tasks.length,
â”‚  171 â”‚         itemBuilder: (context, index) {
â”‚  172 â”‚           final task = tasks[index];
â”‚  173 â”‚           return Slidable(
â”‚  174 â”‚             key: ValueKey(task.id),
â”‚  175 â”‚             endActionPane: ActionPane(
â”‚  176 â”‚               motion: const ScrollMotion(),
â”‚  177 â”‚               dismissible: DismissiblePane(
â”‚  178 â”‚                 onDismissed: () {
â”‚  179 â”‚                   final deletedTask = task;
â”‚  180 â”‚                   taskProvider.deleteTask(task.id);
â”‚  181 â”‚                   ScaffoldMessenger.of(context).showSnackBar(
â”‚  182 â”‚                     SnackBar(
â”‚  183 â”‚                       content: Text('${task.name} deleted'),
â”‚  184 â”‚                       action: SnackBarAction(
â”‚  185 â”‚                         label: 'Undo',
â”‚  186 â”‚                         onPressed: () {
â”‚  187 â”‚                           taskProvider.addTask(deletedTask);
â”‚  188 â”‚                         },
â”‚  189 â”‚                       ),
â”‚  190 â”‚                     ),
â”‚  191 â”‚                   );
â”‚  192 â”‚                 },
â”‚  193 â”‚               ),
â”‚  194 â”‚               children: [
â”‚  195 â”‚                 SlidableAction(
â”‚  196 â”‚                   onPressed: (context) {
â”‚  197 â”‚                     taskProvider.deleteTask(task.id);
â”‚  198 â”‚                   },
â”‚  199 â”‚                   backgroundColor: Colors.red,
â”‚  200 â”‚                   foregroundColor: Colors.white,
â”‚  201 â”‚                   icon: Icons.delete,
â”‚  202 â”‚                   label: 'Delete',
â”‚  203 â”‚                 ),
â”‚  204 â”‚               ],
â”‚  205 â”‚             ),
â”‚  206 â”‚             child: TaskListItem(
â”‚  207 â”‚               task: task,
â”‚  208 â”‚               onTap: () {
â”‚  209 â”‚                 Navigator.push(
â”‚  210 â”‚                   context,
â”‚  211 â”‚                   MaterialPageRoute(
â”‚  212 â”‚                     builder: (context) => EditTaskScreen(taskId: task.id),
â”‚  213 â”‚                   ),
â”‚  214 â”‚                 );
â”‚  215 â”‚               },
â”‚  216 â”‚               onToggleComplete: () {
â”‚  217 â”‚                 taskProvider.toggleTaskCompletion(task.id);
â”‚  218 â”‚               },
â”‚  219 â”‚             ),
â”‚  220 â”‚           );
â”‚  221 â”‚         },
â”‚  222 â”‚       ),
â”‚  223 â”‚       floatingActionButton: FloatingActionButton(
â”‚  224 â”‚         onPressed: () {
â”‚  225 â”‚           Navigator.push(
â”‚  226 â”‚             context,
â”‚  227 â”‚             MaterialPageRoute(builder: (context) => const AddTaskScreen()),
â”‚  228 â”‚           );
â”‚  229 â”‚         },
â”‚  230 â”‚         child: const Icon(Icons.add),
â”‚  231 â”‚       ),
â”‚  232 â”‚     );
â”‚  233 â”‚   }
â”‚  234 â”‚ }
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ğŸ“„ æª”æ¡ˆ: script_tools\merge_script.dart
   å¤§å°: 9.0KB
   é¡å‹: .dart
   å®Œæ•´è·¯å¾‘: C:\Users\user\AndroidStudioProjects\project2\lib\script_tools\merge_script.dart
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    1 â”‚ 
â”‚    2 â”‚ import 'dart:io';
â”‚    3 â”‚ import 'package:path/path.dart' as path;
â”‚    4 â”‚ 
â”‚    5 â”‚ class FileTraversalTool {
â”‚    6 â”‚   // é…ç½®
â”‚    7 â”‚   static const List<String> targetExtensions = ['.dart', '.kt', '.java'];
â”‚    8 â”‚   static const List<String> skipDirectories = [
â”‚    9 â”‚     '.git',
â”‚   10 â”‚     '.idea',
â”‚   11 â”‚     '.vscode',
â”‚   12 â”‚     'build',
â”‚   13 â”‚     '.gradle',
â”‚   14 â”‚     'node_modules',
â”‚   15 â”‚     '.dart_tool',
â”‚   16 â”‚     'android/.gradle',
â”‚   17 â”‚     'android/build',
â”‚   18 â”‚     'ios/build',
â”‚   19 â”‚     '.flutter-plugins-dependencies'
â”‚   20 â”‚   ];
â”‚   21 â”‚ 
â”‚   22 â”‚   // è¦éæ­·çš„ç›®éŒ„
â”‚   23 â”‚   static const List<String> targetDirectories = [
â”‚   24 â”‚     'lib',
â”‚   25 â”‚     'android/app/src/main/kotlin/com/example/project2/',
â”‚   26 â”‚ 
â”‚   27 â”‚   ];
â”‚   28 â”‚ 
â”‚   29 â”‚   /// ä¸»è¦åŸ·è¡Œå‡½æ•¸
â”‚   30 â”‚   static Future<void> run() async {
â”‚   31 â”‚     print('ğŸš€ é–‹å§‹éæ­· Flutter å°ˆæ¡ˆæª”æ¡ˆ...');
â”‚   32 â”‚ 
â”‚   33 â”‚     try {
â”‚   34 â”‚       final projectRoot = Directory.current;
â”‚   35 â”‚       final outputFile = File(path.join(projectRoot.path, 'lib/script_tools/merge_result.txt'));
â”‚   36 â”‚ 
â”‚   37 â”‚       // å»ºç«‹è¼¸å‡ºæª”æ¡ˆ
â”‚   38 â”‚       final sink = outputFile.openWrite();
â”‚   39 â”‚ 
â”‚   40 â”‚       // å¯«å…¥æ¨™é¡Œ
â”‚   41 â”‚       await _writeHeader(sink);
â”‚   42 â”‚ 
â”‚   43 â”‚       // éæ­·æ¯å€‹ç›®æ¨™ç›®éŒ„
â”‚   44 â”‚       int totalFiles = 0;
â”‚   45 â”‚       int totalLines = 0;
â”‚   46 â”‚ 
â”‚   47 â”‚       for (String dirPath in targetDirectories) {
â”‚   48 â”‚         final dir = Directory(path.join(projectRoot.path, dirPath));
â”‚   49 â”‚         if (await dir.exists()) {
â”‚   50 â”‚           print('ğŸ“ æ­£åœ¨è™•ç†ç›®éŒ„: $dirPath');
â”‚   51 â”‚           final result = await _processDirectory(dir, sink, dirPath);
â”‚   52 â”‚           totalFiles += result['files']!;
â”‚   53 â”‚           totalLines += result['lines']!;
â”‚   54 â”‚         } else {
â”‚   55 â”‚           print('âš ï¸  ç›®éŒ„ä¸å­˜åœ¨: $dirPath');
â”‚   56 â”‚         }
â”‚   57 â”‚       }
â”‚   58 â”‚ 
â”‚   59 â”‚       // å¯«å…¥çµ±è¨ˆè³‡è¨Š
â”‚   60 â”‚       await _writeFooter(sink, totalFiles, totalLines);
â”‚   61 â”‚ 
â”‚   62 â”‚       await sink.close();
â”‚   63 â”‚ 
â”‚   64 â”‚       print('âœ… å®Œæˆï¼');
â”‚   65 â”‚       print('ğŸ“Š çµ±è¨ˆè³‡è¨Š:');
â”‚   66 â”‚       print('   - ç¸½æª”æ¡ˆæ•¸: $totalFiles');
â”‚   67 â”‚       print('   - ç¸½è¡Œæ•¸: $totalLines');
â”‚   68 â”‚       print('   - è¼¸å‡ºæª”æ¡ˆ: ${outputFile.path}');
â”‚   69 â”‚ 
â”‚   70 â”‚     } catch (e) {
â”‚   71 â”‚       print('âŒ ç™¼ç”ŸéŒ¯èª¤: $e');
â”‚   72 â”‚       rethrow;
â”‚   73 â”‚     }
â”‚   74 â”‚   }
â”‚   75 â”‚ 
â”‚   76 â”‚   /// å¯«å…¥æª”æ¡ˆæ¨™é¡Œ
â”‚   77 â”‚   static Future<void> _writeHeader(IOSink sink) async {
â”‚   78 â”‚     final now = DateTime.now().toIso8601String();
â”‚   79 â”‚     sink.writeln('=' * 80);
â”‚   80 â”‚     sink.writeln('Flutter å°ˆæ¡ˆç¨‹å¼ç¢¼å‚™ä»½');
â”‚   81 â”‚     sink.writeln('ç”Ÿæˆæ™‚é–“: $now');
â”‚   82 â”‚     sink.writeln('ç”Ÿæˆå·¥å…·: Dart File Traversal Tool');
â”‚   83 â”‚     sink.writeln('=' * 80);
â”‚   84 â”‚     sink.writeln();
â”‚   85 â”‚   }
â”‚   86 â”‚ 
â”‚   87 â”‚   /// å¯«å…¥æª”æ¡ˆçµå°¾
â”‚   88 â”‚   static Future<void> _writeFooter(IOSink sink, int totalFiles, int totalLines) async {
â”‚   89 â”‚     sink.writeln();
â”‚   90 â”‚     sink.writeln('=' * 80);
â”‚   91 â”‚     sink.writeln('çµ±è¨ˆè³‡è¨Š');
â”‚   92 â”‚     sink.writeln('=' * 80);
â”‚   93 â”‚     sink.writeln('ç¸½æª”æ¡ˆæ•¸: $totalFiles');
â”‚   94 â”‚     sink.writeln('ç¸½ç¨‹å¼ç¢¼è¡Œæ•¸: $totalLines');
â”‚   95 â”‚     sink.writeln('ç”Ÿæˆå®Œæˆæ™‚é–“: ${DateTime.now().toIso8601String()}');
â”‚   96 â”‚     sink.writeln('=' * 80);
â”‚   97 â”‚   }
â”‚   98 â”‚ 
â”‚   99 â”‚   /// è™•ç†ç›®éŒ„
â”‚  100 â”‚   static Future<Map<String, int>> _processDirectory(
â”‚  101 â”‚       Directory dir,
â”‚  102 â”‚       IOSink sink,
â”‚  103 â”‚       String relativePath
â”‚  104 â”‚       ) async {
â”‚  105 â”‚     int fileCount = 0;
â”‚  106 â”‚     int lineCount = 0;
â”‚  107 â”‚ 
â”‚  108 â”‚     sink.writeln();
â”‚  109 â”‚     sink.writeln('ğŸ—‚ï¸  ç›®éŒ„: $relativePath');
â”‚  110 â”‚     sink.writeln('-' * 60);
â”‚  111 â”‚ 
â”‚  112 â”‚     final files = await _getAllFiles(dir);
â”‚  113 â”‚ 
â”‚  114 â”‚     for (FileSystemEntity file in files) {
â”‚  115 â”‚       if (file is File && _shouldIncludeFile(file)) {
â”‚  116 â”‚         try {
â”‚  117 â”‚           final result = await _processFile(file, sink, dir.path);
â”‚  118 â”‚           fileCount++;
â”‚  119 â”‚           lineCount += result;
â”‚  120 â”‚         } catch (e) {
â”‚  121 â”‚           print('âš ï¸  ç„¡æ³•è™•ç†æª”æ¡ˆ ${file.path}: $e');
â”‚  122 â”‚           sink.writeln('// âŒ ç„¡æ³•è®€å–æª”æ¡ˆ: ${path.relative(file.path, from: dir.path)}');
â”‚  123 â”‚           sink.writeln('// éŒ¯èª¤: $e');
â”‚  124 â”‚           sink.writeln();
â”‚  125 â”‚         }
â”‚  126 â”‚       }
â”‚  127 â”‚     }
â”‚  128 â”‚ 
â”‚  129 â”‚     return {'files': fileCount, 'lines': lineCount};
â”‚  130 â”‚   }
â”‚  131 â”‚ 
â”‚  132 â”‚   /// ç²å–æ‰€æœ‰æª”æ¡ˆï¼ˆéæ­¸ï¼‰
â”‚  133 â”‚   static Future<List<FileSystemEntity>> _getAllFiles(Directory dir) async {
â”‚  134 â”‚     final List<FileSystemEntity> files = [];
â”‚  135 â”‚ 
â”‚  136 â”‚     await for (FileSystemEntity entity in dir.list(recursive: true)) {
â”‚  137 â”‚       // è·³éä¸éœ€è¦çš„ç›®éŒ„
â”‚  138 â”‚       if (entity is Directory && _shouldSkipDirectory(entity)) {
â”‚  139 â”‚         continue;
â”‚  140 â”‚       }
â”‚  141 â”‚ 
â”‚  142 â”‚       if (entity is File) {
â”‚  143 â”‚         files.add(entity);
â”‚  144 â”‚       }
â”‚  145 â”‚     }
â”‚  146 â”‚ 
â”‚  147 â”‚     // æŒ‰è·¯å¾‘æ’åº
â”‚  148 â”‚     files.sort((a, b) => a.path.compareTo(b.path));
â”‚  149 â”‚     return files;
â”‚  150 â”‚   }
â”‚  151 â”‚ 
â”‚  152 â”‚   /// è™•ç†å–®å€‹æª”æ¡ˆ
â”‚  153 â”‚   static Future<int> _processFile(File file, IOSink sink, String basePath) async {
â”‚  154 â”‚     final relativePath = path.relative(file.path, from: basePath);
â”‚  155 â”‚     final extension = path.extension(file.path);
â”‚  156 â”‚     final fileSize = await file.length();
â”‚  157 â”‚ 
â”‚  158 â”‚     // æª”æ¡ˆè³‡è¨Šæ¨™é¡Œ
â”‚  159 â”‚     sink.writeln();
â”‚  160 â”‚     sink.writeln('ğŸ“„ æª”æ¡ˆ: $relativePath');
â”‚  161 â”‚     sink.writeln('   å¤§å°: ${_formatFileSize(fileSize)}');
â”‚  162 â”‚     sink.writeln('   é¡å‹: $extension');
â”‚  163 â”‚     sink.writeln('   å®Œæ•´è·¯å¾‘: ${file.path}');
â”‚  164 â”‚     sink.writeln('â”Œ' + 'â”€' * 78 + 'â”');
â”‚  165 â”‚ 
â”‚  166 â”‚     // è®€å–ä¸¦å¯«å…¥æª”æ¡ˆå…§å®¹
â”‚  167 â”‚     final content = await file.readAsString();
â”‚  168 â”‚     final lines = content.split('\n');
â”‚  169 â”‚ 
â”‚  170 â”‚     // åŠ å…¥è¡Œè™Ÿ
â”‚  171 â”‚     for (int i = 0; i < lines.length; i++) {
â”‚  172 â”‚       final lineNumber = (i + 1).toString().padLeft(4, ' ');
â”‚  173 â”‚       sink.writeln('â”‚ $lineNumber â”‚ ${lines[i]}');
â”‚  174 â”‚     }
â”‚  175 â”‚ 
â”‚  176 â”‚     sink.writeln('â””' + 'â”€' * 78 + 'â”˜');
â”‚  177 â”‚     sink.writeln();
â”‚  178 â”‚ 
â”‚  179 â”‚     return lines.length;
â”‚  180 â”‚   }
â”‚  181 â”‚ 
â”‚  182 â”‚   /// åˆ¤æ–·æ˜¯å¦æ‡‰è©²åŒ…å«æ­¤æª”æ¡ˆ
â”‚  183 â”‚   static bool _shouldIncludeFile(File file) {
â”‚  184 â”‚     final extension = path.extension(file.path).toLowerCase();
â”‚  185 â”‚     return targetExtensions.contains(extension);
â”‚  186 â”‚   }
â”‚  187 â”‚ 
â”‚  188 â”‚   /// åˆ¤æ–·æ˜¯å¦æ‡‰è©²è·³éæ­¤ç›®éŒ„
â”‚  189 â”‚   static bool _shouldSkipDirectory(Directory dir) {
â”‚  190 â”‚     final dirName = path.basename(dir.path);
â”‚  191 â”‚     final relativePath = path.relative(dir.path, from: Directory.current.path);
â”‚  192 â”‚ 
â”‚  193 â”‚     // æª¢æŸ¥æ˜¯å¦åœ¨è·³éåˆ—è¡¨ä¸­
â”‚  194 â”‚     for (String skip in skipDirectories) {
â”‚  195 â”‚       if (dirName == skip || relativePath.contains(skip)) {
â”‚  196 â”‚         return true;
â”‚  197 â”‚       }
â”‚  198 â”‚     }
â”‚  199 â”‚ 
â”‚  200 â”‚     // è·³ééš±è—ç›®éŒ„
â”‚  201 â”‚     if (dirName.startsWith('.') && dirName != '.') {
â”‚  202 â”‚       return true;
â”‚  203 â”‚     }
â”‚  204 â”‚ 
â”‚  205 â”‚     return false;
â”‚  206 â”‚   }
â”‚  207 â”‚ 
â”‚  208 â”‚   /// æ ¼å¼åŒ–æª”æ¡ˆå¤§å°
â”‚  209 â”‚   static String _formatFileSize(int bytes) {
â”‚  210 â”‚     if (bytes < 1024) {
â”‚  211 â”‚       return '${bytes}B';
â”‚  212 â”‚     } else if (bytes < 1024 * 1024) {
â”‚  213 â”‚       return '${(bytes / 1024).toStringAsFixed(1)}KB';
â”‚  214 â”‚     } else {
â”‚  215 â”‚       return '${(bytes / (1024 * 1024)).toStringAsFixed(1)}MB';
â”‚  216 â”‚     }
â”‚  217 â”‚   }
â”‚  218 â”‚ 
â”‚  219 â”‚   /// å–å¾—å°ˆæ¡ˆçµ±è¨ˆè³‡è¨Š
â”‚  220 â”‚   static Future<Map<String, dynamic>> getProjectStats() async {
â”‚  221 â”‚     final projectRoot = Directory.current;
â”‚  222 â”‚     int dartFiles = 0;
â”‚  223 â”‚     int kotlinFiles = 0;
â”‚  224 â”‚     int javaFiles = 0;
â”‚  225 â”‚     int totalLines = 0;
â”‚  226 â”‚     int totalSize = 0;
â”‚  227 â”‚ 
â”‚  228 â”‚     for (String dirPath in targetDirectories) {
â”‚  229 â”‚       final dir = Directory(path.join(projectRoot.path, dirPath));
â”‚  230 â”‚       if (await dir.exists()) {
â”‚  231 â”‚         final files = await _getAllFiles(dir);
â”‚  232 â”‚ 
â”‚  233 â”‚         for (FileSystemEntity file in files) {
â”‚  234 â”‚           if (file is File && _shouldIncludeFile(file)) {
â”‚  235 â”‚             final extension = path.extension(file.path).toLowerCase();
â”‚  236 â”‚             final fileSize = await file.length();
â”‚  237 â”‚             final content = await file.readAsString();
â”‚  238 â”‚             final lines = content.split('\n').length;
â”‚  239 â”‚ 
â”‚  240 â”‚             totalSize += fileSize;
â”‚  241 â”‚             totalLines += lines;
â”‚  242 â”‚ 
â”‚  243 â”‚             switch (extension) {
â”‚  244 â”‚               case '.dart':
â”‚  245 â”‚                 dartFiles++;
â”‚  246 â”‚                 break;
â”‚  247 â”‚               case '.kt':
â”‚  248 â”‚                 kotlinFiles++;
â”‚  249 â”‚                 break;
â”‚  250 â”‚               case '.java':
â”‚  251 â”‚                 javaFiles++;
â”‚  252 â”‚                 break;
â”‚  253 â”‚             }
â”‚  254 â”‚           }
â”‚  255 â”‚         }
â”‚  256 â”‚       }
â”‚  257 â”‚     }
â”‚  258 â”‚ 
â”‚  259 â”‚     return {
â”‚  260 â”‚       'dartFiles': dartFiles,
â”‚  261 â”‚       'kotlinFiles': kotlinFiles,
â”‚  262 â”‚       'javaFiles': javaFiles,
â”‚  263 â”‚       'totalFiles': dartFiles + kotlinFiles + javaFiles,
â”‚  264 â”‚       'totalLines': totalLines,
â”‚  265 â”‚       'totalSize': totalSize,
â”‚  266 â”‚     };
â”‚  267 â”‚   }
â”‚  268 â”‚ 
â”‚  269 â”‚   /// åªé¡¯ç¤ºçµ±è¨ˆè³‡è¨Šï¼ˆä¸ç”Ÿæˆå‚™ä»½æª”æ¡ˆï¼‰
â”‚  270 â”‚   static Future<void> showStats() async {
â”‚  271 â”‚     print('ğŸ“Š æ­£åœ¨è¨ˆç®—å°ˆæ¡ˆçµ±è¨ˆè³‡è¨Š...');
â”‚  272 â”‚ 
â”‚  273 â”‚     final stats = await getProjectStats();
â”‚  274 â”‚ 
â”‚  275 â”‚     print('\nğŸ“ˆ å°ˆæ¡ˆçµ±è¨ˆè³‡è¨Š:');
â”‚  276 â”‚     print('â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”');
â”‚  277 â”‚     print('â”‚ Dart æª”æ¡ˆ:   ${stats['dartFiles'].toString().padLeft(8)} å€‹      â”‚');
â”‚  278 â”‚     print('â”‚ Kotlin æª”æ¡ˆ: ${stats['kotlinFiles'].toString().padLeft(8)} å€‹      â”‚');
â”‚  279 â”‚     print('â”‚ Java æª”æ¡ˆ:   ${stats['javaFiles'].toString().padLeft(8)} å€‹      â”‚');
â”‚  280 â”‚     print('â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤');
â”‚  281 â”‚     print('â”‚ ç¸½æª”æ¡ˆæ•¸:   ${stats['totalFiles'].toString().padLeft(8)} å€‹      â”‚');
â”‚  282 â”‚     print('â”‚ ç¸½ç¨‹å¼è¡Œæ•¸: ${stats['totalLines'].toString().padLeft(8)} è¡Œ      â”‚');
â”‚  283 â”‚     print('â”‚ ç¸½æª”æ¡ˆå¤§å°: ${_formatFileSize(stats['totalSize']).padLeft(8)}       â”‚');
â”‚  284 â”‚     print('â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜');
â”‚  285 â”‚   }
â”‚  286 â”‚ }
â”‚  287 â”‚ 
â”‚  288 â”‚ // åŸ·è¡Œè…³æœ¬çš„ä¸»å‡½æ•¸
â”‚  289 â”‚ void main(List<String> args) async {
â”‚  290 â”‚   if (args.isNotEmpty && args[0] == 'stats') {
â”‚  291 â”‚     await FileTraversalTool.showStats();
â”‚  292 â”‚   } else {
â”‚  293 â”‚     await FileTraversalTool.run();
â”‚  294 â”‚   }
â”‚  295 â”‚ }
â”‚  296 â”‚ 
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ğŸ“„ æª”æ¡ˆ: widgets\priority_selector.dart
   å¤§å°: 2.8KB
   é¡å‹: .dart
   å®Œæ•´è·¯å¾‘: C:\Users\user\AndroidStudioProjects\project2\lib\widgets\priority_selector.dart
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    1 â”‚ import 'package:flutter/material.dart';
â”‚    2 â”‚ import '../models/task.dart';
â”‚    3 â”‚ 
â”‚    4 â”‚ class PrioritySelector extends StatelessWidget {
â”‚    5 â”‚   final Priority selectedPriority;
â”‚    6 â”‚   final Function(Priority) onPriorityChanged;
â”‚    7 â”‚ 
â”‚    8 â”‚   const PrioritySelector({
â”‚    9 â”‚     Key? key,
â”‚   10 â”‚     required this.selectedPriority,
â”‚   11 â”‚     required this.onPriorityChanged,
â”‚   12 â”‚   }) : super(key: key);
â”‚   13 â”‚ 
â”‚   14 â”‚   @override
â”‚   15 â”‚   Widget build(BuildContext context) {
â”‚   16 â”‚     return Column(
â”‚   17 â”‚       crossAxisAlignment: CrossAxisAlignment.start,
â”‚   18 â”‚       children: [
â”‚   19 â”‚         const Text(
â”‚   20 â”‚           'Priority*',
â”‚   21 â”‚           style: TextStyle(
â”‚   22 â”‚             fontSize: 16,
â”‚   23 â”‚             fontWeight: FontWeight.w500,
â”‚   24 â”‚           ),
â”‚   25 â”‚         ),
â”‚   26 â”‚         const SizedBox(height: 8),
â”‚   27 â”‚         Row(
â”‚   28 â”‚           children: [
â”‚   29 â”‚             Expanded(
â”‚   30 â”‚               child: _PriorityOption(
â”‚   31 â”‚                 label: 'HIGH',
â”‚   32 â”‚                 color: Colors.red,
â”‚   33 â”‚                 isSelected: selectedPriority == Priority.high,
â”‚   34 â”‚                 onTap: () => onPriorityChanged(Priority.high),
â”‚   35 â”‚               ),
â”‚   36 â”‚             ),
â”‚   37 â”‚             const SizedBox(width: 8),
â”‚   38 â”‚             Expanded(
â”‚   39 â”‚               child: _PriorityOption(
â”‚   40 â”‚                 label: 'MEDIUM',
â”‚   41 â”‚                 color: Colors.orange,
â”‚   42 â”‚                 isSelected: selectedPriority == Priority.medium,
â”‚   43 â”‚                 onTap: () => onPriorityChanged(Priority.medium),
â”‚   44 â”‚               ),
â”‚   45 â”‚             ),
â”‚   46 â”‚             const SizedBox(width: 8),
â”‚   47 â”‚             Expanded(
â”‚   48 â”‚               child: _PriorityOption(
â”‚   49 â”‚                 label: 'LOW',
â”‚   50 â”‚                 color: Colors.green,
â”‚   51 â”‚                 isSelected: selectedPriority == Priority.low,
â”‚   52 â”‚                 onTap: () => onPriorityChanged(Priority.low),
â”‚   53 â”‚               ),
â”‚   54 â”‚             ),
â”‚   55 â”‚           ],
â”‚   56 â”‚         ),
â”‚   57 â”‚       ],
â”‚   58 â”‚     );
â”‚   59 â”‚   }
â”‚   60 â”‚ }
â”‚   61 â”‚ 
â”‚   62 â”‚ class _PriorityOption extends StatelessWidget {
â”‚   63 â”‚   final String label;
â”‚   64 â”‚   final Color color;
â”‚   65 â”‚   final bool isSelected;
â”‚   66 â”‚   final VoidCallback onTap;
â”‚   67 â”‚ 
â”‚   68 â”‚   const _PriorityOption({
â”‚   69 â”‚     Key? key,
â”‚   70 â”‚     required this.label,
â”‚   71 â”‚     required this.color,
â”‚   72 â”‚     required this.isSelected,
â”‚   73 â”‚     required this.onTap,
â”‚   74 â”‚   }) : super(key: key);
â”‚   75 â”‚ 
â”‚   76 â”‚   @override
â”‚   77 â”‚   Widget build(BuildContext context) {
â”‚   78 â”‚     return InkWell(
â”‚   79 â”‚       onTap: onTap,
â”‚   80 â”‚       borderRadius: BorderRadius.circular(8),
â”‚   81 â”‚       child: Container(
â”‚   82 â”‚         padding: const EdgeInsets.symmetric(vertical: 12),
â”‚   83 â”‚         decoration: BoxDecoration(
â”‚   84 â”‚           color: isSelected ? color : color.withOpacity(0.2),
â”‚   85 â”‚           borderRadius: BorderRadius.circular(8),
â”‚   86 â”‚           border: Border.all(
â”‚   87 â”‚             color: color,
â”‚   88 â”‚             width: 2,
â”‚   89 â”‚           ),
â”‚   90 â”‚         ),
â”‚   91 â”‚         child: Center(
â”‚   92 â”‚           child: Text(
â”‚   93 â”‚             label,
â”‚   94 â”‚             style: TextStyle(
â”‚   95 â”‚               color: isSelected ? Colors.white : color,
â”‚   96 â”‚               fontWeight: FontWeight.bold,
â”‚   97 â”‚             ),
â”‚   98 â”‚           ),
â”‚   99 â”‚         ),
â”‚  100 â”‚       ),
â”‚  101 â”‚     );
â”‚  102 â”‚   }
â”‚  103 â”‚ }
â”‚  104 â”‚ 
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ğŸ“„ æª”æ¡ˆ: widgets\task_list_item.dart
   å¤§å°: 2.5KB
   é¡å‹: .dart
   å®Œæ•´è·¯å¾‘: C:\Users\user\AndroidStudioProjects\project2\lib\widgets\task_list_item.dart
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    1 â”‚ import 'package:flutter/material.dart';
â”‚    2 â”‚ import 'package:intl/intl.dart';
â”‚    3 â”‚ import '../models/task.dart';
â”‚    4 â”‚ 
â”‚    5 â”‚ class TaskListItem extends StatelessWidget {
â”‚    6 â”‚   final Task task;
â”‚    7 â”‚   final VoidCallback onTap;
â”‚    8 â”‚   final VoidCallback onToggleComplete;
â”‚    9 â”‚ 
â”‚   10 â”‚   const TaskListItem({
â”‚   11 â”‚     Key? key,
â”‚   12 â”‚     required this.task,
â”‚   13 â”‚     required this.onTap,
â”‚   14 â”‚     required this.onToggleComplete,
â”‚   15 â”‚   }) : super(key: key);
â”‚   16 â”‚ 
â”‚   17 â”‚   @override
â”‚   18 â”‚   Widget build(BuildContext context) {
â”‚   19 â”‚     final theme = Theme.of(context);
â”‚   20 â”‚     Color priorityColor;
â”‚   21 â”‚ 
â”‚   22 â”‚     switch (task.priority) {
â”‚   23 â”‚       case Priority.high:
â”‚   24 â”‚         priorityColor = Colors.red;
â”‚   25 â”‚         break;
â”‚   26 â”‚       case Priority.medium:
â”‚   27 â”‚         priorityColor = Colors.orange;
â”‚   28 â”‚         break;
â”‚   29 â”‚       case Priority.low:
â”‚   30 â”‚         priorityColor = Colors.green;
â”‚   31 â”‚         break;
â”‚   32 â”‚     }
â”‚   33 â”‚ 
â”‚   34 â”‚     final isOverdue = task.dueDate != null &&
â”‚   35 â”‚         !task.isCompleted &&
â”‚   36 â”‚         task.dueDate!.isBefore(DateTime.now());
â”‚   37 â”‚ 
â”‚   38 â”‚     return ListTile(
â”‚   39 â”‚       onTap: onTap,
â”‚   40 â”‚       leading: Checkbox(
â”‚   41 â”‚         value: task.isCompleted,
â”‚   42 â”‚         onChanged: (_) => onToggleComplete(),
â”‚   43 â”‚         activeColor: theme.colorScheme.primary,
â”‚   44 â”‚       ),
â”‚   45 â”‚       title: Text(
â”‚   46 â”‚         task.name,
â”‚   47 â”‚         style: TextStyle(
â”‚   48 â”‚           decoration: task.isCompleted ? TextDecoration.lineThrough : null,
â”‚   49 â”‚           color: task.isCompleted ? theme.disabledColor : null,
â”‚   50 â”‚           fontWeight: task.priority == Priority.high ? FontWeight.bold : null,
â”‚   51 â”‚         ),
â”‚   52 â”‚       ),
â”‚   53 â”‚       subtitle: Column(
â”‚   54 â”‚         crossAxisAlignment: CrossAxisAlignment.start,
â”‚   55 â”‚         children: [
â”‚   56 â”‚           if (task.dueDate != null)
â”‚   57 â”‚             Text(
â”‚   58 â”‚               'Due: ${DateFormat('MMM d, h:mm a').format(task.dueDate!)}',
â”‚   59 â”‚               style: TextStyle(
â”‚   60 â”‚                 color: isOverdue ? Colors.red : null,
â”‚   61 â”‚                 fontWeight: isOverdue ? FontWeight.bold : null,
â”‚   62 â”‚               ),
â”‚   63 â”‚             ),
â”‚   64 â”‚           if (task.tags.isNotEmpty)
â”‚   65 â”‚             Wrap(
â”‚   66 â”‚               spacing: 4,
â”‚   67 â”‚               children: task.tags.map((tag) => Chip(
â”‚   68 â”‚                 label: Text(tag, style: const TextStyle(fontSize: 10)),
â”‚   69 â”‚                 materialTapTargetSize: MaterialTapTargetSize.shrinkWrap,
â”‚   70 â”‚                 visualDensity: VisualDensity.compact,
â”‚   71 â”‚                 padding: EdgeInsets.zero,
â”‚   72 â”‚               )).toList(),
â”‚   73 â”‚             ),
â”‚   74 â”‚         ],
â”‚   75 â”‚       ),
â”‚   76 â”‚       trailing: Container(
â”‚   77 â”‚         width: 12,
â”‚   78 â”‚         height: 12,
â”‚   79 â”‚         decoration: BoxDecoration(
â”‚   80 â”‚           color: priorityColor,
â”‚   81 â”‚           shape: BoxShape.circle,
â”‚   82 â”‚         ),
â”‚   83 â”‚       ),
â”‚   84 â”‚       contentPadding: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),
â”‚   85 â”‚     );
â”‚   86 â”‚   }
â”‚   87 â”‚ }
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ğŸ—‚ï¸  ç›®éŒ„: android/app/src/main/kotlin/com/example/project2/
------------------------------------------------------------

ğŸ“„ æª”æ¡ˆ: MainActivity.kt
   å¤§å°: 126B
   é¡å‹: .kt
   å®Œæ•´è·¯å¾‘: C:\Users\user\AndroidStudioProjects\project2\android/app/src/main/kotlin/com/example/project2/MainActivity.kt
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    1 â”‚ package com.example.project2
â”‚    2 â”‚ 
â”‚    3 â”‚ import io.flutter.embedding.android.FlutterActivity
â”‚    4 â”‚ 
â”‚    5 â”‚ class MainActivity: FlutterActivity()
â”‚    6 â”‚ 
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
çµ±è¨ˆè³‡è¨Š
================================================================================
ç¸½æª”æ¡ˆæ•¸: 12
ç¸½ç¨‹å¼ç¢¼è¡Œæ•¸: 1707
ç”Ÿæˆå®Œæˆæ™‚é–“: 2025-06-02T00:16:28.997368
================================================================================
